<!DOCTYPE html>
<html>

<head>
  <title>AKS Explorer - AKS Glu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
  <script type="text/javascript" src="js/jquery-1.7.2.js"></script>
  <script type="text/javascript" src="script.js"></script>
</head>

<body>
  <div id="root" style="position: absolute; left: 10px; right: 10px; top: 10px; bottom: 10px;">
    <div id="left-panel" class="d-flex flex-column me-2">
      <div id="cluster-explorer" class="bg-light p-2 card" style="border: none;">
        <a class="navbar-brand card-title mb-2">AKS Cluster Explorer</a>
        <ul class="nav d-flex flex-column h-100" id="sidebar">
          <li class="active">
            <button class="btn btn-primary w-100" href="#"><i id="currentcluster"></i></a>
          </li>
        </ul>
      </div>
    </div>
    <div id="main-panel" class="d-flex flex-column">
      <div class="mb-2 bg-light" style="border-radius: 0.375rem;">
        <ul id="addressbar" class="breadcrumb m-2" style="height: 24px; margin: 0;">
          <span class="file-icon me-1"></span>
        </ul>
      </div>
      <div class="d-flex align-items-center justify-content-between mb-2 ps-2">
        <label for="diagnostics" style="min-width: 220px;">Choose a diagnostics topic:</label>
        <select name="diagnostics" id="diagnostics" class="form-select" style="max-width: 200px;">
          <option value="all">Select All</option>
          <option value="acr">Troubleshoot ACR</option>
          <option value="dns">DNS Resolution</option>
          <option value="security">Security Check</option>
          <option value="Metrics">Metrics Check</option>
          <option value="Crictl">Crictl Check</option>
          <option value="B2K">Debug service with B2K</option>
          <option value="kubelet">Kubelet Errors Check</option>
        </select>
      </div>

      <div class="bg-light card h-100 ps-2 pe-2" style="border: none;">
        <ul class="mb-2" id="files"></ul>
        <button id="ACRPull" class="btn btn-secondary mb-2">Troubleshoot ACR connection issue</button>
        <button id="DNSCheck" class="btn btn-secondary mb-2">Debugging DNS Resolution</button>
        <button id="BenchCheck" class="btn btn-secondary mb-2">Debugging Security Check</button>
        <button id="MetricsCheck" class="btn btn-secondary mb-2">Node Metrics Check</button>
        <button id="CRICTLCheck" class="btn btn-secondary mb-2">Debugging Containers with Crictl</button>
        <button id="B2K" class="btn btn-secondary mb-2">Debugging service with B2K</button>
        <button id="KubeletErrorsCheck" class="btn btn-secondary mb-2">Kubelet Errors Check</button>


        <Pre style="white-space: pre-wrap;"><div id="responses"></div></Pre>
      </div>

      <form>
        <input type="text" autofocus style="display:none;" />
      </form>
      <script src="./app.js"></script>
      <script>
        diagnostics
        $(function () {

          $('#diagnostics').change(function () {
            var text = $(this).children("option:selected").text();

            if (text == "Select All") {
              $('#ACRPull,#DNSCheck,#BenchCheck,#MetricsCheck,#CRICTLCheck,#B2K,#KubeletErrorsCheck').show();
            }
            if (text == "Troubleshoot ACR") {
              $('#ACRPull').show();
              $('#DNSCheck').hide();
              $('#BenchCheck').hide();
              $('#MetricsCheck').hide();
              $('#CRICTLCheck').hide();
              $('#B2K').hide();
              $('#KubeletErrorsCheck').hide();
            }
            if (text == "DNS Resolution") {
              $('#ACRPull').hide();
              $('#DNSCheck').show();
              $('#BenchCheck').hide();
              $('#MetricsCheck').hide();
              $('#CRICTLCheck').hide();
              $('#B2K').hide();
              $('#KubeletErrorsCheck').hide();
            }
            if (text == "Security Check") {
              $('#ACRPull').hide();
              $('#DNSCheck').hide();
              $('#BenchCheck').show();
              $('#MetricsCheck').hide();
              $('#CRICTLCheck').hide();
              $('#B2K').hide();
              $('#KubeletErrorsCheck').hide();
            }
            if (text == "Metrics Check") {
              $('#ACRPull').hide();
              $('#DNSCheck').hide();
              $('#BenchCheck').hide();
              $('#MetricsCheck').show();
              $('#CRICTLCheck').hide();
              $('#B2K').hide();
              $('#KubeletErrorsCheck').hide();
            }
            if (text == "Crictl Check") {
              $('#ACRPull').hide();
              $('#DNSCheck').hide();
              $('#BenchCheck').hide();
              $('#MetricsCheck').hide();
              $('#CRICTLCheck').show();
              $('#B2K').hide();
              $('#KubeletErrorsCheck').hide();
            }
            if (text == "Debug service with B2K") {
              $('#ACRPull').hide();
              $('#DNSCheck').hide();
              $('#BenchCheck').hide();
              $('#MetricsCheck').hide();
              $('#CRICTLCheck').hide();
              $('#B2K').show();
              $('#KubeletErrorsCheck').hide();
            }
            if (text == "Kubelet Errors Check") {
              $('#ACRPull').hide();
              $('#DNSCheck').hide();
              $('#BenchCheck').hide();
              $('#MetricsCheck').hide();
              $('#CRICTLCheck').hide();
              $('#B2K').hide();
              $('#KubeletErrorsCheck').show();
            }
          });
        });
      </script>
    </div>
  </div>
</body>

</html>